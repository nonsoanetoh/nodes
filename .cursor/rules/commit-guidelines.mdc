---
description: Commit message format and granularity guidelines
alwaysApply: true
---

# Commit Guidelines

When creating commits, follow these patterns for consistency and clarity.

## Commit Message Format

Use lowercase prefixes followed by a colon and space:

- **`add:`** - New files, components, or features
- **`update:`** - Modifications to existing files or features
- **`feat:`** - New functionality or major features
- **`fix:`** - Bug fixes

Examples:

```
add: project type definitions
update: typescript configuration
feat: gif export with configurable quality
fix: undo/redo state synchronization
```

## Commit Granularity

### One Component Per Commit

When adding multiple similar components (e.g., icons, input components), create separate commits for each:

```
add: play icon component
add: pause icon component
add: previous frame icon component
```

### Group Related Files

When files are tightly coupled (component + styles, or related utilities), commit them together:

```
add: canvas component with drawing functionality
  - src/app/components/canvas.tsx
  - src/app/styles/canvas.module.css
```

### Feature Commits

For feature additions that span multiple files, group logically related changes:

```
feat: node deletion functionality
  - src/app/hooks/useProject.ts (removeNode function)
  - src/app/components/canvas.tsx (right-click and keyboard handlers)
```

## Commit Organization

Order commits logically:

1. **Foundation** - Types, context, hooks, base styles
2. **Components** - Icons, settings inputs, main components
3. **Styles** - Component-specific stylesheets
4. **Features** - Functionality additions
5. **Configuration** - Config files, dependencies

## Granularity Target

For larger feature sets or refactors:

- Aim for **at least 30 commits** when appropriate
- Break down into smallest logical units
- Each commit should represent a single, cohesive change

## What NOT to Commit

- Do not commit temporary planning files (e.g., `COMMITS.md`, `TODO.md`)
- Do not commit generated files unless they're part of the build process
- Do not commit files containing mentions of AI or assistant tools

## Examples

✅ **Good:**

```
add: button control component
update: toggle switch styling to match design
feat: show/hide images toggle
```

❌ **Bad:**

```
Added components
Fixed stuff
Update
```
